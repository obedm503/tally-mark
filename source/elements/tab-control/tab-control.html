<template>
  <require from="./tab-control.css"></require>

  <header class="tab-control-header">
      <button
        repeat.for="item of items"
        class="tab-item-header ${$index == selectedIndex?'selected':''}"
        click.trigger="selectedIndex = $index"
      >
        <header>${item.title}</header>
        <svg class="icon" click.delegate="pages.remove($index)">
          <use xlink:href="./resources/symbols.svg#icon-close" />
        </svg>
      </button>
  </header>

  <section class="tab-control-container">
    <compose
      if.bind="items.length > 0 "
      view-model="../${items[selectedIndex].viewModel}"
      model.bind="items[selectedIndex].data"
    ></compose>
  </section>
</template>
